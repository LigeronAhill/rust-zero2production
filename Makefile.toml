[tasks.test]
command = "cargo"
args = ["test", "--all-features"]

[tasks.cover]
install_crate = "cargo-tarpaulin"
command = "cargo"
args = ["tarpaulin", "--ignore-tests"]
dependencies = ["test"]

[tasks.lint]
command = "cargo"
args = ["clippy", "--", "-D", "warnings"]
dependencies = ["cover"]

[tasks.format]
command = "cargo"
args = ["fmt", "--all", "--", "--check"]
dependencies = ["lint"]

[tasks.auditing]
install_crate = "cargo-audit"
command = "cargo"
args = ["audit"]
dependencies = ["format"]

[tasks.ga]
dependencies = ["auditing"]
command = "git"
args = ["add", "."]

[tasks.gc]
dependencies = ["ga"]
command = "git"
args = ["commit", "-m", "${@}"]

[tasks.push]
dependencies = ["gc"]
command = "git"
args = ["push"]

